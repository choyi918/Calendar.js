# Simple Calendar.js module 소개

### 요약

- 프로젝트 기간 : 2022.02.03 ~ 2022.02.06
- “Seanery” 호텔 예약 서비스에서 사용 할 체크인 - 체크아웃 날짜 범위를 선택할 수 있는 달력을 제작하였습니다
- 달력 디자인은 **<Newlecture Java 웹 프로그래밍 교육>**의 팀원인 ‘김수하'님이 전담하였습니다.

### 사용 기술

- HTML5, CSS3, Javacript ES6

## 프로그램 동작 모습

### 날짜선택1

체크인 혹은 체크아웃 엘리먼트 둘 중 하나를 클릭하면 달력이 화면 위로 나타납니다.

달력의 날짜를 처음 클릭하면, 체크인 날짜가 선택되고, 두번째 날짜를 클릭하게 되면 체크아웃 날짜가 선택됨과 동시에 두 날짜 사이 기간이 표현됩니다.

그 후에 “선택 완료" 버튼을 누르면 선택한 체크인, 체크아웃 날짜가 화면에 표시됩니다.

화면에는 나타나지 않았지만, 두번째로 선택한 날짜가 첫번째로 선택한 날짜보다 앞에 있다면, 메시지를 띄워 “잘못된 선택"이라는 것을 알리고, 다시 선택하도록 하였습니다.

<br>
<img src="./readme_images/1.gif" width="30%" height="30%" title="" alt=""></img>
<br>

### 날짜선택2

체크인, 체크아웃 날짜를 선택한 후에도 변경사항이 있을 때 그대로 엘리먼트를 누르면 달력이 다시 로드되고, 변경할 날짜들을 선택할 수 있도록 하였습니다.

<br>
<img src="./readme_images/2.gif" width="30%" height="30%" title="" alt=""></img>
<br>

### 달력이동

달력 상단 오른쪽에 위,아래 버튼을 통해 월 단위로 날짜이동을 할 수 있습니다. 

추가로, 당일 기준으로 그 전날짜들은 선택할 수 없도록 하였으며, 화면에도 흐린글씨로 표현을 해 시각적으로 선택불가능한 날짜로 인식되도록 만들었습니다.

<br>
<img src="./readme_images/3.gif" width="30%" height="30%" title="" alt=""></img>
<br>

## 개발 중 문제 해결 과정

- 달력을 만드는 것에 대해
    - 일절 다른 곳의 코드를 참고하는 것 없이 구현하고 싶었습니다. 그래서 차근 차근 달력을 표현하기 위해 필요한 조건들이 무엇인지 생각해보았습니다.
    - (1) 윤년과 윤달을 고려해야 한다.
    - (2) 기준년을 정해야 한다.
        - 기준년 1월 1일이 무슨 요일인지를 기준으로 다음달의 첫날이 몇요일인지 계속 계산해야하기 때문입니다.
        - 해당 달력에서 잡은 기준 날짜는 1976년 1월 1일 (목요일) 입니다. 해당년도는 윤년입니다.
    - (3) 다음 달의 첫날이 어떤 요일인지 구하기 위해 이번 달의 마지막 주가 몇 요일로 끝나는지 알아야 한다.
        - 그러려면 이번 달의 첫날이 어떤 요일인지 알아야하며, 이번 달의 마지막 주가 몇 요일로 끝나는지 알아야 합니다.
        - 생각을 해보면, 이번 달의 마지막 요일은 첫날의 요일에서 [이번달의 총 Date 수를 7로 나눈 나머지 - 1]일 후의 요일임을 알 수 있습니다.
        - 예를 들어 이번 달의 첫날이 목요일 이고, 이번 달이 1월로 31일까지 존재한다면, 31을 7로 나눈 나머지는 3이 되고,
        - 요일은 7일마다 같은 요일로 돌아오므로 결국 마지막 주가 몇 요일인지는 첫날의 목요일에서 2일 후 인 토요일 일 것입니다.
        - 나아가 이번달 첫날의 요일에서 3일 후는 다음달 첫날의 요일이 됨을 알 수 있습니다.
    - 위 조건들을 고려하여 페이지에 표시해야할 시점과 기준년 사이에 총 몇 개월이 지났는지 구하고, 기준년의 1월 1일 목요일을 기준으로 페이지에 표시할 월의 첫날 요일을 구하기 위해 계속해서 다음달, 그 다음달의 첫날 요일을 구해나갑니다.
    - 그 후, 첫날 요일부터 페이지에 해당 월이 몇일까지인지 고려 하면서 차례대로 날짜를 그립니다.
- 체크인 - 체크아웃 기간을 표시하는 것에 대해
    - 기간을 표시하기 위해, 해당 표시의 스타일을 미리 CSS의 스타일로 구현해놓았습니다.
    - 체크인, 체크아웃의 날짜를 표현하는 스타일과, 그 사이에 날짜들을 표현하는 스타일 두 가지를 구성하였습니다.
    - 미리 class명을 정해 CSS 코드로 구성한 후 자바스크립트를 사용하여 DOM 조작으로 날짜 엘리먼트에 이벤트가 발생할 경우 적절히 CSS 스타일 class이름을 삽입하는 식으로 구현하였습니다.
